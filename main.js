!function(){"use strict";var e={formSelector:".form",inputSelector:".popup__input",inputClassError:"popup__input_error",submitButton:".popup__submit",inactiveButtonClass:"popup__submit_disabled",inputTextError:".form__error"},t=document.querySelector(".profile__add-button"),n=document.querySelector('[name="form-place"]'),r=document.querySelector(".elements"),o=(document.querySelector(".popup_type_photo"),document.querySelector(".profile__edit")),i=document.querySelector('[name="form-edit"]'),u=i.querySelector('[name="name"]'),c=i.querySelector('[name="about"]'),a=document.querySelector('[name="form-avatar"]'),s=document.querySelector(".profile__icon");function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t,n,r,o,i,u){var c=this,a=t.item;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._text=a.name,this._link=a.link,this._userId=u,this._cardTemplate=n,this._handleCardClick=r,this._handleDeleteClick=o.bind(this),this._handleLikeClick=i.bind(this),this._cardElement=this._getTemplate(),this._cardImage=this._cardElement.querySelector(".element__image"),this._likeCount=this._cardElement.querySelector(".element__like-count"),this._likes=a.likes,this._isDelete=a.owner._id===this._userId,this.islikes=a.likes.some((function(e){return e._id===c._userId})),this.cardID=a._id,this._deleteButton=this._cardElement.querySelector(".element__delete")}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardTemplate).content.querySelector(".element").cloneNode(!0)}},{key:"createCard",value:function(){return this._isDelete||this._cardElement.removeChild(this._deleteButton),this._cardElement.querySelector(".element__name").textContent=this._text,this._cardImage.alt=this._text,this._cardImage.src=this._link,this.likeInfo(this._likes),this._setEventListeners(),this._cardElement}},{key:"removeCard",value:function(){this.createCard().remove()}},{key:"likeInfo",value:function(e){this.islikes?(this._likeCount.textContent=e.length,this._cardElement.querySelector(".element__like").classList.add("element__like_active"),this.islikes=!this.islikes):(this._likeCount.textContent=e.length,this._cardElement.querySelector(".element__like").classList.remove("element__like_active"),this.islikes=!this.islikes)}},{key:"_setEventListeners",value:function(){var e=this;this._cardImage.addEventListener("click",(function(){e._handleCardClick()})),this._cardElement.querySelector(".element__like").addEventListener("click",(function(){e._handleLikeClick()})),this._deleteButton.addEventListener("click",(function(){e._handleDeleteClick()}))}}])&&l(t.prototype,n),e}();function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=n,this._inputSelector=t.inputSelector,this._inputClassError=t.inputClassError,this._inactiveButtonClass=t.inactiveButtonClass,this._inputTextError=t.inputTextError,this._submitButton=this._formElement.querySelector(t.submitButton)}var t,n;return t=e,(n=[{key:"enableValidition",value:function(){var e=this;this._formElement.addEventListener("input",(function(t){return e._handelFormInput(t)}))}},{key:"_handelFormInput",value:function(e){var t=e.target,n=e.currentTarget;this._setFieldError(t),this._toggleButtonSubmit(n)}},{key:"_setFieldError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.validity.valid?(e.classList.remove(this._inputClassError),t.textContent=""):(e.classList.add(this._inputClassError),t.textContent=e.validationMessage)}},{key:"_inactiveButtonSubmit",value:function(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.setAttribute("disabled","disabled")}},{key:"_toggleButtonSubmit",value:function(e){e.checkValidity()?(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.removeAttribute("disabled")):this._inactiveButtonSubmit()}},{key:"resetValidation",value:function(){var e=this,t=this._formElement.querySelectorAll(this._inputTextError),n=this._formElement.querySelectorAll(this._inputSelector);t.forEach((function(e){e.textContent=""})),n.forEach((function(t){t.classList.remove(e._inputClassError)})),this._inactiveButtonSubmit()}}])&&p(t.prototype,n),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=n}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.append(e)}},{key:"prependItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;this._renderedItems=e,this._renderedItems.forEach((function(e){t._renderer(e)}))}}])&&d(t.prototype,n),e}();function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._popupCloseButton=this._popup.querySelector(".popup__close"),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){(t.target.classList.contains("popup")||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&y(t.prototype,n),e}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(r);if(o){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function u(e){var t,n=e.popupSelector,r=e.submitForm;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,n))._submitForm=r,t._popupForm=t._popup.querySelector(".form"),t._inputList=t._popupForm.querySelectorAll(".popup__input"),t._submitFormButton=t._popupForm.querySelector(".popup__submit"),t}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._submitForm(e._getInputValues())})),k(E(u.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._popupForm.reset(),k(E(u.prototype),"close",this).call(this)}},{key:"renderLoading",value:function(e){this._submitFormButton.textContent=e?"Сохранение...":"Сохранить"}}])&&b(t.prototype,n),u}(m);function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t){var n=t.userNameSelector,r=t.userSublineSelector,o=t.UserAvatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=document.querySelector(".".concat(n)),this._userSubline=document.querySelector(".".concat(r)),this._userAvatar=document.querySelector(".".concat(o))}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this.userInfo={},this.userInfo.name=this._userName.textContent,this.userInfo.about=this._userSubline.textContent,this.userInfo}},{key:"setUserInfo",value:function(e){this._userName.textContent=e.name,this._userSubline.textContent=e.about}},{key:"setUserAvatar",value:function(e){this._userAvatar.src=e.avatar}}])&&C(t.prototype,n),e}();function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return(j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return R(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupImage=t._popup.querySelector(".popup__image"),t._popupPhotoName=t._popup.querySelector(".popup__photoName"),t}return t=u,(n=[{key:"open",value:function(e){var t=e.name,n=e.link;this._popupImage.src=n,this._popupImage.alt=t,this._popupPhotoName.textContent=t,j(q(u.prototype),"open",this).call(this)}}])&&I(t.prototype,n),u}(m);function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"getCards",value:function(){return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"setUserInfo",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._checkResponse)}},{key:"addCard",value:function(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._checkResponse)}},{key:"likeAdd",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"likeDelete",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"avatar",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._checkResponse)}}])&&B(t.prototype,n),e}();function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return(D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=N(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=N(r);if(o){var n=N(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return V(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupForm=t._popup.querySelector(".form"),t}return t=u,(n=[{key:"setEventListeners",value:function(){var e=this;this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._action(),e.close()})),D(N(u.prototype),"setEventListeners",this).call(this)}},{key:"setSubmitAction",value:function(e){this._action=e}}])&&F(t.prototype,n),u}(m);function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=null,M=new x({url:"https://nomoreparties.co/v1/cohort-26",headers:{authorization:"aaca6239-cac0-4a87-8d95-e01e56ac6f60","Content-Type":"application/json"}}),z=new O({userNameSelector:"profile__name",userSublineSelector:"profile__subline",UserAvatarSelector:"profile__image"}),$=new h(e,i),K=new h(e,n),Q=new h(e,a),W=new _({renderer:function(e){W.addItem(ne(e))}},r),X=new w({popupSelector:".popup_type_place",submitForm:function(e){X.renderLoading(!0),M.addCard(e).then((function(e){W.prependItem(ne(e))})).catch((function(e){console.log(e)})).finally((function(){X.renderLoading(!1),X.close()}))}}),Y=new w({popupSelector:".popup_type_edit",submitForm:function(e){Y.renderLoading(!0),M.setUserInfo(e).then((function(e){z.setUserInfo(e)})).catch((function(e){console.log(e)})).finally((function(){Y.renderLoading(!1),Y.close()}))}}),Z=new w({popupSelector:".popup_type_avatar",submitForm:function(e){Z.renderLoading(!0),M.avatar(e).then((function(e){z.setUserAvatar(e)})).catch((function(e){console.log(e)})).finally((function(){Z.renderLoading(!1),Z.close()}))}}),ee=new T(".popup_type_photo"),te=new J(".popup_type_delete");function ne(e){var t=new f({item:e},"#template",(function(){ee.open(e)}),(function(){te.setSubmitAction((function(){M.deleteCard(e._id).catch((function(e){console.log(e)})),t.removeCard()})),te.open()}),(function(){!function(e){e.islikes?M.likeAdd(e.cardID).then((function(t){e.likeInfo(t.likes)})).catch((function(e){console.log(e)})):M.likeDelete(e.cardID).then((function(t){e.likeInfo(t.likes)})).catch((function(e){console.log(e)}))}(t)}),H);return t.createCard()}Promise.all([M.getUserInfo(),M.getCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,c=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];z.setUserInfo(o),z.setUserAvatar(o),H=o._id,W.renderItems(i)})).catch((function(e){console.log(e)})),t.addEventListener("click",(function(){K.resetValidation(),X.open()})),o.addEventListener("click",(function(){Y.open(),$.resetValidation();var e=z.getUserInfo(),t=e.name,n=e.about;u.value=t,c.value=n})),s.addEventListener("click",(function(){Z.open(),Q.resetValidation()})),ee.setEventListeners(),Z.setEventListeners(),Y.setEventListeners(),X.setEventListeners(),te.setEventListeners(),$.enableValidition(),K.enableValidition(),Q.enableValidition()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybVN1Ym1pdC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiaW5wdXRDbGFzc0Vycm9yIiwic3VibWl0QnV0dG9uIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0VGV4dEVycm9yIiwiYnV0dG9uT3BlblBvcHVwUGxhY2UiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JtUG9wdXBQbGFjZSIsImVsZW1lbnRzIiwiYnV0dG9uT3BlblBvcHVwUHJvZmlsZSIsImVkaXRGb3JtUHJvZmlsZSIsImlucHV0UHJvZmlsZU5hbWUiLCJpbnB1dFByb2ZpbGVTdWJsaW5lIiwiZm9ybVBvcHVwQXZhdGFyIiwiYnV0dG9uT3BlblBvcHVwQXZhdGFyIiwiQ2FyZCIsImNhcmRUZW1wbGF0ZSIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwidXNlcklkIiwiaXRlbSIsInRoaXMiLCJfdGV4dCIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfdXNlcklkIiwiX2NhcmRUZW1wbGF0ZSIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJiaW5kIiwiX2hhbmRsZUxpa2VDbGljayIsIl9jYXJkRWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9jYXJkSW1hZ2UiLCJfbGlrZUNvdW50IiwiX2xpa2VzIiwibGlrZXMiLCJfaXNEZWxldGUiLCJvd25lciIsIl9pZCIsImlzbGlrZXMiLCJzb21lIiwiY2FyZElEIiwiX2RlbGV0ZUJ1dHRvbiIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJyZW1vdmVDaGlsZCIsInRleHRDb250ZW50IiwiYWx0Iiwic3JjIiwibGlrZUluZm8iLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJjcmVhdGVDYXJkIiwicmVtb3ZlIiwibGVuZ3RoIiwiY2xhc3NMaXN0IiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiX2lucHV0Q2xhc3NFcnJvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0VGV4dEVycm9yIiwiX3N1Ym1pdEJ1dHRvbiIsImV2dCIsIl9oYW5kZWxGb3JtSW5wdXQiLCJpbnB1dCIsInRhcmdldCIsImZvcm0iLCJjdXJyZW50VGFyZ2V0IiwiX3NldEZpZWxkRXJyb3IiLCJfdG9nZ2xlQnV0dG9uU3VibWl0Iiwic3BhbiIsImlkIiwidmFsaWRpdHkiLCJ2YWxpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwic2V0QXR0cmlidXRlIiwiY2hlY2tWYWxpZGl0eSIsInJlbW92ZUF0dHJpYnV0ZSIsIl9pbmFjdGl2ZUJ1dHRvblN1Ym1pdCIsInNwYW5zIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0cyIsImZvckVhY2giLCJTZWN0aW9uIiwiY29udGFpbmVyIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZWxlbWVudCIsImFwcGVuZCIsInByZXBlbmQiLCJkYXRhIiwiX3JlbmRlcmVkSXRlbXMiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfcG9wdXBDbG9zZUJ1dHRvbiIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJjbG9zZSIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEZvcm0iLCJfc3VibWl0Rm9ybSIsIl9wb3B1cEZvcm0iLCJfaW5wdXRMaXN0IiwiX3N1Ym1pdEZvcm1CdXR0b24iLCJfZm9ybVZhbHVlcyIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsImlzTG9hZGluZyIsIlVzZXJJbmZvIiwidXNlck5hbWVTZWxlY3RvciIsInVzZXJTdWJsaW5lU2VsZWN0b3IiLCJVc2VyQXZhdGFyU2VsZWN0b3IiLCJfdXNlck5hbWUiLCJfdXNlclN1YmxpbmUiLCJfdXNlckF2YXRhciIsInVzZXJJbmZvIiwiYWJvdXQiLCJhdmF0YXIiLCJQb3B1cFdpdGhJbWFnZSIsIl9wb3B1cEltYWdlIiwiX3BvcHVwUGhvdG9OYW1lIiwiQXBpIiwiX3VybCIsInVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJfY2hlY2tSZXNwb25zZSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiUG9wdXBXaXRoRm9ybVN1Ym1pdCIsIl9hY3Rpb24iLCJhY3Rpb24iLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiZm9ybVZhbGlkYXRvckVkaXQiLCJjb25zdGFudHMiLCJmb3JtVmFsaWRhdG9yUGxhY2UiLCJmb3JtVmFsaWRhdG9yQXZhdGFyIiwic2VjdGlvbiIsImFkZEl0ZW0iLCJuZXdDYXJkIiwiZm9ybVBsYWNlIiwicmVuZGVyTG9hZGluZyIsImFkZENhcmQiLCJwcmVwZW5kSXRlbSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImZpbmFsbHkiLCJmb3JtUHJvZmlsZSIsInNldFVzZXJJbmZvIiwiZm9ybUF2YXRhciIsInNldFVzZXJBdmF0YXIiLCJwb3B1cFBob3RvIiwiY29uZmlybWF0aW9uUG9wdXAiLCJjYXJkIiwib3BlbiIsInNldFN1Ym1pdEFjdGlvbiIsImRlbGV0ZUNhcmQiLCJyZW1vdmVDYXJkIiwibGlrZUFkZCIsImxpa2VEZWxldGUiLCJhbGwiLCJnZXRVc2VySW5mbyIsImdldENhcmRzIiwidXNlckRhdGEiLCJpbml0aWFsQ2FyZHMiLCJyZW5kZXJJdGVtcyIsInJlc2V0VmFsaWRhdGlvbiIsInNldEV2ZW50TGlzdGVuZXJzIiwiZW5hYmxlVmFsaWRpdGlvbiJdLCJtYXBwaW5ncyI6InlCQUNTLElBQU1BLEVBQVMsQ0FDcEJDLGFBQWMsUUFDZEMsY0FBZSxnQkFDZkMsZ0JBQWlCLHFCQUNqQkMsYUFBYyxpQkFDZEMsb0JBQXFCLHlCQUNyQkMsZUFBZ0IsZ0JBSUxDLEVBQXVCQyxTQUFTQyxjQUFjLHdCQUM5Q0MsRUFBaUJGLFNBQVNDLGNBQWMsdUJBQ3hDRSxFQUFXSCxTQUFTQyxjQUFjLGFBRWxDRyxHQURhSixTQUFTQyxjQUFjLHFCQUNYRCxTQUFTQyxjQUFjLG1CQUNoREksRUFBa0JMLFNBQVNDLGNBQWMsc0JBQ3pDSyxFQUFtQkQsRUFBZ0JKLGNBQWMsaUJBQ2pETSxFQUFzQkYsRUFBZ0JKLGNBQWMsa0JBQ3BETyxFQUFrQlIsU0FBU0MsY0FBYyx3QkFDekNRLEVBQXdCVCxTQUFTQyxjQUFjLGtCLDBLQ3BCekNTLEUsV0FDbkIsYUFFRUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FDQSxXQU5FQyxFQU1GLEVBTkVBLE0sNEZBTUYsU0FDQUMsS0FBS0MsTUFBUUYsRUFBS0csS0FDbEJGLEtBQUtHLE1BQVFKLEVBQUtLLEtBQ2xCSixL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TUFHaEJkLEVBQ0c4QixXQUFXTixFQUFLdEksUUFDaEJzRyxNQUFLLFNBQUNSLEdBQ0x3QyxFQUFLOUgsU0FBU3NGLEVBQUlwRyxVQUVuQmlJLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsTUF4QmRySixDQUFnQitKLEtBRWxCOUosR0FFRixPQUFPOEosRUFBSzVILGFBaENkdUYsUUFBUTRDLElBQUksQ0FBQy9CLEVBQUlnQyxjQUFlaEMsRUFBSWlDLGFBQ2pDekMsTUFBSyxZQUE4QixJLElBQUEsRyxFQUFBLEUsNENBQUEsSSxneEJBQTVCMEMsRUFBNEIsS0FBbEJDLEVBQWtCLEtBQ2xDOUQsRUFBUzhDLFlBQVllLEdBQ3JCN0QsRUFBU2dELGNBQWNhLEdBQ3ZCeEssRUFBU3dLLEVBQVNuSixJQUNsQnVILEVBQVE4QixZQUFZRCxNQUVyQnRCLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsTUFpRGhCWCxtQkFBZ0QsU0FBUyxXQUN2REMsRUFBbUJpQyxrQkFDbkI1QixFQUFVZ0IsVUFHWnRCLG1CQUFrRCxTQUFTLFdBQ3pEZSxFQUFZTyxPQUNadkIsRUFBa0JtQyxrQkFDbEIsTUFBd0JoRSxFQUFTMkQsY0FBekJsSyxFQUFSLEVBQVFBLEtBQU13RyxFQUFkLEVBQWNBLE1BQ2Q2QixRQUFtQ3JJLEVBQ25DcUksUUFBc0M3QixLQUd4QzZCLG1CQUFpRCxTQUFTLFdBQ3hEaUIsRUFBV0ssT0FDWHBCLEVBQW9CZ0MscUJBR3RCZixHQUFXZ0Isb0JBQ1hsQixFQUFXa0Isb0JBQ1hwQixFQUFZb0Isb0JBQ1o3QixFQUFVNkIsb0JBQ1ZmLEdBQWtCZSxvQkFDbEJwQyxFQUFrQnFDLG1CQUNsQm5DLEVBQW1CbUMsbUJBQ25CbEMsRUFBb0JrQyxtQiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbiAgZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuICAgIGZvcm1TZWxlY3RvcjogXCIuZm9ybVwiLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgICBpbnB1dENsYXNzRXJyb3I6IFwicG9wdXBfX2lucHV0X2Vycm9yXCIsXHJcbiAgICBzdWJtaXRCdXR0b246IFwiLnBvcHVwX19zdWJtaXRcIixcclxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX3N1Ym1pdF9kaXNhYmxlZFwiLFxyXG4gICAgaW5wdXRUZXh0RXJyb3I6IFwiLmZvcm1fX2Vycm9yXCIsXHJcbiAgfTtcclxuXHJcbiAgXHJcbiAgZXhwb3J0IGNvbnN0IGJ1dHRvbk9wZW5Qb3B1cFBsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG4gIGV4cG9ydCBjb25zdCBmb3JtUG9wdXBQbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9ybS1wbGFjZVwiXScpO1xyXG4gIGV4cG9ydCBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XHJcbiAgZXhwb3J0IGNvbnN0IHBvcHVwUGhvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfcGhvdG9cIik7XHJcbiAgZXhwb3J0IGNvbnN0IGJ1dHRvbk9wZW5Qb3B1cFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXRcIik7XHJcbiAgZXhwb3J0IGNvbnN0IGVkaXRGb3JtUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9ybS1lZGl0XCJdJyk7XHJcbiAgZXhwb3J0IGNvbnN0IGlucHV0UHJvZmlsZU5hbWUgPSBlZGl0Rm9ybVByb2ZpbGUucXVlcnlTZWxlY3RvcignW25hbWU9XCJuYW1lXCJdJyk7XHJcbiAgZXhwb3J0IGNvbnN0IGlucHV0UHJvZmlsZVN1YmxpbmUgPSBlZGl0Rm9ybVByb2ZpbGUucXVlcnlTZWxlY3RvcignW25hbWU9XCJhYm91dFwiXScpO1xyXG4gIGV4cG9ydCBjb25zdCBmb3JtUG9wdXBBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvcm0tYXZhdGFyXCJdJyk7XHJcbiAgZXhwb3J0IGNvbnN0IGJ1dHRvbk9wZW5Qb3B1cEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faWNvblwiKTtcclxuICAiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHsgaXRlbSB9LFxyXG4gICAgY2FyZFRlbXBsYXRlLFxyXG4gICAgaGFuZGxlQ2FyZENsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXHJcbiAgICBoYW5kbGVMaWtlQ2xpY2ssXHJcbiAgICB1c2VySWRcclxuICApIHtcclxuICAgIHRoaXMuX3RleHQgPSBpdGVtLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gaXRlbS5saW5rO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5fY2FyZFRlbXBsYXRlID0gY2FyZFRlbXBsYXRlO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljay5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fbGlrZUNvdW50ID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWNvdW50XCIpO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBpdGVtLmxpa2VzO1xyXG4gICAgdGhpcy5faXNEZWxldGUgPSBpdGVtLm93bmVyLl9pZCA9PT0gdGhpcy5fdXNlcklkO1xyXG4gICAgdGhpcy5pc2xpa2VzID0gaXRlbS5saWtlcy5zb21lKFxyXG4gICAgICAoaXRlbSkgPT4gaXRlbS5faWQgPT09IHRoaXMuX3VzZXJJZFxyXG4gICAgKTtcclxuICAgIHRoaXMuY2FyZElEID0gaXRlbS5faWQ7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2RlbGV0ZVwiKTtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFRlbXBsYXRlKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIFxyXG5cclxuICBjcmVhdGVDYXJkKCkge1xyXG4gICAgaWYgKCF0aGlzLl9pc0RlbGV0ZSkge1xyXG4gICAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLl9kZWxldGVCdXR0b24pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbmFtZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX3RleHQ7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fdGV4dDtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5saWtlSW5mbyh0aGlzLl9saWtlcyk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZCgpIHtcclxuICAgIHRoaXMuY3JlYXRlQ2FyZCgpLnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgbGlrZUluZm8obGlrZXMpIHtcclxuICAgIGlmICghdGhpcy5pc2xpa2VzKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VDb3VudC50ZXh0Q29udGVudCA9IGxpa2VzLmxlbmd0aDtcclxuICAgICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlXCIpXHJcbiAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJlbGVtZW50X19saWtlX2FjdGl2ZVwiKTtcclxuICAgICAgdGhpcy5pc2xpa2VzID0gIXRoaXMuaXNsaWtlcztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2xpa2VDb3VudC50ZXh0Q29udGVudCA9IGxpa2VzLmxlbmd0aDtcclxuICAgICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlXCIpXHJcbiAgICAgICAgLmNsYXNzTGlzdC5hZGQoXCJlbGVtZW50X19saWtlX2FjdGl2ZVwiKTtcclxuICAgICAgdGhpcy5pc2xpa2VzID0gIXRoaXMuaXNsaWtlcztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIFxyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2VcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljaygpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbnB1dENsYXNzRXJyb3IgPSBjb25maWcuaW5wdXRDbGFzc0Vycm9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRUZXh0RXJyb3IgPSBjb25maWcuaW5wdXRUZXh0RXJyb3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b24pO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRpdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZXZ0KSA9PlxyXG4gICAgICB0aGlzLl9oYW5kZWxGb3JtSW5wdXQoZXZ0KVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIF9oYW5kZWxGb3JtSW5wdXQoZXZ0KSB7XHJcbiAgICBjb25zdCBpbnB1dCA9IGV2dC50YXJnZXQ7XHJcbiAgICBjb25zdCBmb3JtID0gZXZ0LmN1cnJlbnRUYXJnZXQ7XHJcblxyXG4gICAgdGhpcy5fc2V0RmllbGRFcnJvcihpbnB1dCk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdWJtaXQoZm9ybSk7XHJcbiAgfVxyXG5cclxuICBfc2V0RmllbGRFcnJvcihpbnB1dCkge1xyXG4gICAgY29uc3Qgc3BhbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgY29uc3QgdmFsaWQgPSBpbnB1dC52YWxpZGl0eS52YWxpZDtcclxuICAgIGlmICghdmFsaWQpIHtcclxuICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dENsYXNzRXJyb3IpO1xyXG4gICAgICBzcGFuLnRleHRDb250ZW50ID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0Q2xhc3NFcnJvcik7XHJcbiAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2luYWN0aXZlQnV0dG9uU3VibWl0KCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdWJtaXQoZm9ybSkge1xyXG4gICAgY29uc3QgaXNWYWxpZCA9IGZvcm0uY2hlY2tWYWxpZGl0eSgpO1xyXG4gICAgaWYgKGlzVmFsaWQpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uU3VibWl0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICBjb25zdCBzcGFucyA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRUZXh0RXJyb3IpO1xyXG4gICAgY29uc3QgaW5wdXRzID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKTtcclxuICAgIHNwYW5zLmZvckVhY2goKHNwYW4pID0+IHtcclxuICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICB9KTtcclxuICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0Q2xhc3NFcnJvcik7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uU3VibWl0KCk7XHJcbiAgfSAvL9GE0YPQvdC60YbQuNGPINC+0YfQuNGB0YLQutC4INC+0YjQuNCx0L7QulxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LGNvbnRhaW5lcikge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlcGVuZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckl0ZW1zKGRhdGEpIHtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gZGF0YTtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwXCIpIHx8XHJcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fY2xvc2VcIilcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBzdWJtaXRGb3JtIH0pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fc3VibWl0Rm9ybSA9IHN1Ym1pdEZvcm07XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIik7XHJcbiAgICB0aGlzLl9zdWJtaXRGb3JtQnV0dG9uID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3N1Ym1pdFwiKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xyXG4gICAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgICB0aGlzLl9zdWJtaXRGb3JtQnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0Rm9ybUJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LjRgtGMXCI7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IHVzZXJOYW1lU2VsZWN0b3IsIHVzZXJTdWJsaW5lU2VsZWN0b3IsIFVzZXJBdmF0YXJTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3VzZXJOYW1lU2VsZWN0b3J9YCk7XHJcbiAgICB0aGlzLl91c2VyU3VibGluZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3VzZXJTdWJsaW5lU2VsZWN0b3J9YCk7XHJcbiAgICB0aGlzLl91c2VyQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7VXNlckF2YXRhclNlbGVjdG9yfWApO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICB0aGlzLnVzZXJJbmZvID0ge307XHJcbiAgICB0aGlzLnVzZXJJbmZvLm5hbWUgPSB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudDtcclxuICAgIHRoaXMudXNlckluZm8uYWJvdXQgPSB0aGlzLl91c2VyU3VibGluZS50ZXh0Q29udGVudDtcclxuICAgIHJldHVybiB0aGlzLnVzZXJJbmZvO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oaW5wdXQpIHtcclxuICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gaW5wdXQubmFtZTtcclxuICAgIHRoaXMuX3VzZXJTdWJsaW5lLnRleHRDb250ZW50ID0gaW5wdXQuYWJvdXQ7XHJcbiAgfVxyXG4gIFxyXG4gIHNldFVzZXJBdmF0YXIoaW5wdXQpIHtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXIuc3JjID0gaW5wdXQuYXZhdGFyO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fcG9wdXBQaG90b05hbWUgPVxyXG4gICAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19waG90b05hbWVcIik7XHJcbiAgfVxyXG4gIG9wZW4oeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX3BvcHVwUGhvdG9OYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcclxuICAgIHRoaXMuX3VybCA9IGNvbmZpZy51cmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsCAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKGlucHV0KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBpbnB1dC5uYW1lLFxyXG4gICAgICAgIGFib3V0OiBpbnB1dC5hYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgYWRkQ2FyZChpbnB1dCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBpbnB1dC5uYW1lLFxyXG4gICAgICAgIGxpbms6IGlucHV0LmxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGxpa2VBZGQoY2FyZElEKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJRH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBsaWtlRGVsZXRlKGNhcmRJRCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvbGlrZXMvJHtjYXJkSUR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSUQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7Y2FyZElEfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGF2YXRhcihpbnB1dCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogaW5wdXQuYXZhdGFyLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybVN1Ym1pdCBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fYWN0aW9uKCk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHNldFN1Ym1pdEFjdGlvbihhY3Rpb24pIHtcclxuICAgIHRoaXMuX2FjdGlvbiA9IGFjdGlvbjtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtU3VibWl0IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm1TdWJtaXRcIjtcclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuXHJcbmxldCB1c2VySWQgPSBudWxsO1xyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgdXJsOiBcImh0dHBzOi8vbm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMjZcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcImFhY2E2MjM5LWNhYzAtNGE4Ny04ZDk1LWUwMWU1NmFjNmY2MFwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgdXNlck5hbWVTZWxlY3RvcjogXCJwcm9maWxlX19uYW1lXCIsXHJcbiAgdXNlclN1YmxpbmVTZWxlY3RvcjogXCJwcm9maWxlX19zdWJsaW5lXCIsXHJcbiAgVXNlckF2YXRhclNlbGVjdG9yOiBcInByb2ZpbGVfX2ltYWdlXCIsXHJcbn0pO1xyXG5cclxuY29uc3QgZm9ybVZhbGlkYXRvckVkaXQgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICBjb25zdGFudHMuY29uZmlnLFxyXG4gIGNvbnN0YW50cy5lZGl0Rm9ybVByb2ZpbGVcclxuKTtcclxuXHJcbmNvbnN0IGZvcm1WYWxpZGF0b3JQbGFjZSA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIGNvbnN0YW50cy5jb25maWcsXHJcbiAgY29uc3RhbnRzLmZvcm1Qb3B1cFBsYWNlXHJcbik7XHJcblxyXG5jb25zdCBmb3JtVmFsaWRhdG9yQXZhdGFyID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgY29uc3RhbnRzLmNvbmZpZyxcclxuICBjb25zdGFudHMuZm9ybVBvcHVwQXZhdGFyXHJcbik7XHJcblxyXG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICAgIHNlY3Rpb24uYWRkSXRlbShuZXdDYXJkKGl0ZW0pKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBjb25zdGFudHMuZWxlbWVudHNcclxuKTtcclxuXHJcbmNvbnN0IGZvcm1QbGFjZSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIi5wb3B1cF90eXBlX3BsYWNlXCIsXHJcbiAgc3VibWl0Rm9ybTogKGl0ZW0pID0+IHtcclxuICAgIGZvcm1QbGFjZS5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gICAgYXBpXHJcbiAgICAgIC5hZGRDYXJkKGl0ZW0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBzZWN0aW9uLnByZXBlbmRJdGVtKG5ld0NhcmQocmVzKSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIGZvcm1QbGFjZS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICBmb3JtUGxhY2UuY2xvc2UoKTtcclxuICAgICAgfSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCBmb3JtUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIi5wb3B1cF90eXBlX2VkaXRcIixcclxuICBzdWJtaXRGb3JtOiAoaW5wdXQpID0+IHtcclxuICAgIGZvcm1Qcm9maWxlLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgICBhcGlcclxuICAgICAgLnNldFVzZXJJbmZvKGlucHV0KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgZm9ybVByb2ZpbGUucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgZm9ybVByb2ZpbGUuY2xvc2UoKTtcclxuICAgICAgfSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCBmb3JtQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiLnBvcHVwX3R5cGVfYXZhdGFyXCIsXHJcbiAgc3VibWl0Rm9ybTogKGlucHV0KSA9PiB7XHJcbiAgICBmb3JtQXZhdGFyLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgICBhcGlcclxuICAgICAgLmF2YXRhcihpbnB1dClcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIocmVzKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgZm9ybUF2YXRhci5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICBmb3JtQXZhdGFyLmNsb3NlKCk7XHJcbiAgICAgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgcG9wdXBQaG90byA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF90eXBlX3Bob3RvXCIpO1xyXG5jb25zdCBjb25maXJtYXRpb25Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtU3VibWl0KFwiLnBvcHVwX3R5cGVfZGVsZXRlXCIpO1xyXG5cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0Q2FyZHMoKV0pXHJcbiAgLnRoZW4oKFt1c2VyRGF0YSwgaW5pdGlhbENhcmRzXSkgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xyXG4gICAgdXNlckluZm8uc2V0VXNlckF2YXRhcih1c2VyRGF0YSk7XHJcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XHJcbiAgICBzZWN0aW9uLnJlbmRlckl0ZW1zKGluaXRpYWxDYXJkcyk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9KTtcclxuXHJcbmZ1bmN0aW9uIG5ld0NhcmQoaXRlbSkge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIHsgaXRlbSB9LFxyXG4gICAgXCIjdGVtcGxhdGVcIixcclxuICAgICgpID0+IHtcclxuICAgICAgcG9wdXBQaG90by5vcGVuKGl0ZW0pO1xyXG4gICAgfSxcclxuICAgICgpID0+IHtcclxuICAgICAgY29uZmlybWF0aW9uUG9wdXAuc2V0U3VibWl0QWN0aW9uKCgpID0+IHtcclxuICAgICAgICBhcGkuZGVsZXRlQ2FyZChpdGVtLl9pZCkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjYXJkLnJlbW92ZUNhcmQoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbmZpcm1hdGlvblBvcHVwLm9wZW4oKTtcclxuICAgIH0sXHJcbiAgICAoKSA9PiB7XHJcbiAgICAgIGhhbmRsZUxpa2VDbGljayhjYXJkKTtcclxuICAgIH0sXHJcbiAgICB1c2VySWRcclxuICApO1xyXG4gIHJldHVybiBjYXJkLmNyZWF0ZUNhcmQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTGlrZUNsaWNrKGNhcmQpIHtcclxuICBpZiAoY2FyZC5pc2xpa2VzKSB7XHJcbiAgICBhcGlcclxuICAgICAgLmxpa2VBZGQoY2FyZC5jYXJkSUQpXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBjYXJkLmxpa2VJbmZvKHJlcy5saWtlcyk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGFwaVxyXG4gICAgICAubGlrZURlbGV0ZShjYXJkLmNhcmRJRClcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGNhcmQubGlrZUluZm8ocmVzLmxpa2VzKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0YW50cy5idXR0b25PcGVuUG9wdXBQbGFjZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gIGZvcm1WYWxpZGF0b3JQbGFjZS5yZXNldFZhbGlkYXRpb24oKTtcclxuICBmb3JtUGxhY2Uub3BlbigpO1xyXG59KTtcclxuXHJcbmNvbnN0YW50cy5idXR0b25PcGVuUG9wdXBQcm9maWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgZm9ybVByb2ZpbGUub3BlbigpO1xyXG4gIGZvcm1WYWxpZGF0b3JFZGl0LnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGNvbnN0IHsgbmFtZSwgYWJvdXQgfSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgY29uc3RhbnRzLmlucHV0UHJvZmlsZU5hbWUudmFsdWUgPSBuYW1lO1xyXG4gIGNvbnN0YW50cy5pbnB1dFByb2ZpbGVTdWJsaW5lLnZhbHVlID0gYWJvdXQ7XHJcbn0pO1xyXG5cclxuY29uc3RhbnRzLmJ1dHRvbk9wZW5Qb3B1cEF2YXRhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGZvcm1BdmF0YXIub3BlbigpO1xyXG4gIGZvcm1WYWxpZGF0b3JBdmF0YXIucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG5cclxucG9wdXBQaG90by5zZXRFdmVudExpc3RlbmVycygpO1xyXG5mb3JtQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmZvcm1Qcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmZvcm1QbGFjZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5jb25maXJtYXRpb25Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5mb3JtVmFsaWRhdG9yRWRpdC5lbmFibGVWYWxpZGl0aW9uKCk7XHJcbmZvcm1WYWxpZGF0b3JQbGFjZS5lbmFibGVWYWxpZGl0aW9uKCk7XHJcbmZvcm1WYWxpZGF0b3JBdmF0YXIuZW5hYmxlVmFsaWRpdGlvbigpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9